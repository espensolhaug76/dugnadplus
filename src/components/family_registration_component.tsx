```jsx
// Import necessary dependencies
import React, { useState } from 'react';
import { Button, StyleSheet, TextInput, View } from 'react-native';

// Define TypeScript interfaces
interface Child {
  name: string;
}

// Component
const FamilyRegistrationForm: React.FC = () => {
  const [parentName, setParentName] = useState('');
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [children, setChildren] = useState<Child[]>([{ name: '' }]);

  const handleAddChild = () => {
    setChildren(prevChildren => [...prevChildren, { name: '' }]);
  };

  const handleChildNameChange = (text: string, index: number) => {
    const newChildren = [...children];
    newChildren[index].name = text;
    setChildren(newChildren);
  };

  return (
    <View style={styles.container}>
      <TextInput
        style={styles.input}
        placeholder="Foreldrenes navn"
        value={parentName}
        onChangeText={setParentName}
      />
      <TextInput
        style={styles.input}
        placeholder="Epost"
        value={email}
        onChangeText={setEmail}
        keyboardType="email-address"
      />
      <TextInput
        style={styles.input}
        placeholder="Passord"
        value={password}
        onChangeText={setPassword}
        secureTextEntry
      />
      {children.map((child, index) => (
        <TextInput
          key={index}
          style={styles.input}
          placeholder={`Barnets navn ${index + 1}`}
          value={child.name}
          onChangeText={(text) => handleChildNameChange(text, index)}
        />
      ))}
      <Button title="Legg til barn" onPress={handleAddChild} />
    </View>
  );
};

// Styles
const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    padding: 16,
  },
  input: {
    height: 40,
    borderColor: 'gray',
    borderWidth: 1,
    marginBottom: 10,
    paddingLeft: 8,
  },
});

// Export
export default FamilyRegistrationForm;
```